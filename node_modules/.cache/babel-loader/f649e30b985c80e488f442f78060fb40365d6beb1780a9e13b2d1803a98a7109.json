{"ast":null,"code":"export default {\n  name: 'RainIndex',\n  mounted() {\n    console.log('rain');\n    this.initRainEffect();\n  },\n  methods: {\n    initRainEffect() {\n      const box = document.getElementById('rainBox');\n      let boxHeight = box.clientHeight;\n      let boxWidth = box.clientWidth;\n      // 页面大小发生变化时，改变盒子大小\n      window.onresize = function () {\n        boxHeight = box.clientHeight;\n        boxWidth = box.clientWidth;\n      };\n      // 每隔一段时间,添加雨滴\n      setInterval(() => {\n        const rain = document.createElement('div');\n        rain.classList.add('rain');\n        rain.style.top = 0;\n        // 随机刷新雨点位置\n        rain.style.left = Math.random() * boxWidth + 'px';\n        // 随机雨点透明度\n        rain.style.opacity = Math.random();\n        box.appendChild(rain);\n        // 每隔一段时间,雨水下落\n        let race = 1;\n        const timer = setInterval(() => {\n          if (parseInt(rain.style.top) > boxHeight) {\n            clearInterval(timer);\n            box.removeChild(rain);\n          }\n          race++;\n          rain.style.top = parseInt(rain.style.top) + race + 'px';\n        }, 20);\n      }, 50); // 每50ms生成一个新的雨滴\n    }\n  }\n};","map":{"version":3,"names":["name","mounted","console","log","initRainEffect","methods","box","document","getElementById","boxHeight","clientHeight","boxWidth","clientWidth","window","onresize","setInterval","rain","createElement","classList","add","style","top","left","Math","random","opacity","appendChild","race","timer","parseInt","clearInterval","removeChild"],"sources":["src/components/rainEffect.vue"],"sourcesContent":["<template>\r\n  <div id=\"rainBox\">\r\n    <div class=\"content\">\r\n\r\n</div>\r\n  </div>\r\n\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'RainIndex',\r\n  mounted () {\r\n    console.log('rain')\r\n    this.initRainEffect()\r\n  },\r\n  methods: {\r\n    initRainEffect () {\r\n      const box = document.getElementById('rainBox')\r\n      let boxHeight = box.clientHeight\r\n      let boxWidth = box.clientWidth\r\n      // 页面大小发生变化时，改变盒子大小\r\n      window.onresize = function () {\r\n        boxHeight = box.clientHeight\r\n        boxWidth = box.clientWidth\r\n      }\r\n      // 每隔一段时间,添加雨滴\r\n      setInterval(() => {\r\n        const rain = document.createElement('div')\r\n        rain.classList.add('rain')\r\n        rain.style.top = 0\r\n        // 随机刷新雨点位置\r\n        rain.style.left = Math.random() * boxWidth + 'px'\r\n        // 随机雨点透明度\r\n        rain.style.opacity = Math.random()\r\n        box.appendChild(rain)\r\n        // 每隔一段时间,雨水下落\r\n        let race = 1\r\n        const timer = setInterval(() => {\r\n          if (parseInt(rain.style.top) > boxHeight) {\r\n            clearInterval(timer)\r\n            box.removeChild(rain)\r\n          }\r\n          race++\r\n          rain.style.top = parseInt(rain.style.top) + race + 'px'\r\n        }, 20)\r\n      }, 50) // 每50ms生成一个新的雨滴\r\n    }\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n*{\r\n        margin: 0;\r\n        padding: 0;\r\n    }\r\n    .content{\r\n        width: 100vw;\r\n        height: 100vh;\r\n        /* background: url(background2.png) center center no-repeat;\r\n        background-size: cover; */\r\n        /* background-color: yellowgreen; */\r\n    }\r\n    #rainBox{\r\n        position: fixed;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100vw;\r\n        height: 100vh;\r\n        /* 不阻挡其他元素事件触发 */\r\n        pointer-events: none;\r\n    }\r\n    .rain{\r\n        position: absolute;\r\n        width: 2px;\r\n        height: 50px;\r\n        background: linear-gradient(rgba(255,255,255,.3),rgba(255,255,255,.6));\r\n\r\n    }\r\n</style>\r\n"],"mappings":"AAUA;EACAA,IAAA;EACAC,QAAA;IACAC,OAAA,CAAAC,GAAA;IACA,KAAAC,cAAA;EACA;EACAC,OAAA;IACAD,eAAA;MACA,MAAAE,GAAA,GAAAC,QAAA,CAAAC,cAAA;MACA,IAAAC,SAAA,GAAAH,GAAA,CAAAI,YAAA;MACA,IAAAC,QAAA,GAAAL,GAAA,CAAAM,WAAA;MACA;MACAC,MAAA,CAAAC,QAAA;QACAL,SAAA,GAAAH,GAAA,CAAAI,YAAA;QACAC,QAAA,GAAAL,GAAA,CAAAM,WAAA;MACA;MACA;MACAG,WAAA;QACA,MAAAC,IAAA,GAAAT,QAAA,CAAAU,aAAA;QACAD,IAAA,CAAAE,SAAA,CAAAC,GAAA;QACAH,IAAA,CAAAI,KAAA,CAAAC,GAAA;QACA;QACAL,IAAA,CAAAI,KAAA,CAAAE,IAAA,GAAAC,IAAA,CAAAC,MAAA,KAAAb,QAAA;QACA;QACAK,IAAA,CAAAI,KAAA,CAAAK,OAAA,GAAAF,IAAA,CAAAC,MAAA;QACAlB,GAAA,CAAAoB,WAAA,CAAAV,IAAA;QACA;QACA,IAAAW,IAAA;QACA,MAAAC,KAAA,GAAAb,WAAA;UACA,IAAAc,QAAA,CAAAb,IAAA,CAAAI,KAAA,CAAAC,GAAA,IAAAZ,SAAA;YACAqB,aAAA,CAAAF,KAAA;YACAtB,GAAA,CAAAyB,WAAA,CAAAf,IAAA;UACA;UACAW,IAAA;UACAX,IAAA,CAAAI,KAAA,CAAAC,GAAA,GAAAQ,QAAA,CAAAb,IAAA,CAAAI,KAAA,CAAAC,GAAA,IAAAM,IAAA;QACA;MACA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}