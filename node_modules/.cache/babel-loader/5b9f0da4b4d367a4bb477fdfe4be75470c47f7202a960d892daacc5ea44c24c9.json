{"ast":null,"code":"// store/user.js (Vuex module)\n\nexport default {\n  namespaced: true,\n  state() {\n    return {\n      userinfo: JSON.parse(localStorage.getItem('userinfo')) || {\n        userId: '',\n        username: '',\n        email: ''\n      }\n    };\n  },\n  mutations: {\n    setUser(state, user) {\n      state.userinfo = user;\n      // 保存到本地存储\n      localStorage.setItem('userinfo', JSON.stringify(user));\n    },\n    clearUser(state) {\n      state.userinfo = {\n        userId: '',\n        username: '',\n        email: ''\n      };\n      // 清除本地存储\n      localStorage.removeItem('userinfo');\n    }\n  },\n  actions: {\n    loginUser({\n      commit\n    }, user) {\n      commit('setUser', user);\n    },\n    logoutUser({\n      commit\n    }) {\n      commit('clearUser');\n    }\n  },\n  getters: {\n    getUserInfo(state) {\n      return state.userinfo;\n    }\n  }\n};","map":{"version":3,"names":["namespaced","state","userinfo","JSON","parse","localStorage","getItem","userId","username","email","mutations","setUser","user","setItem","stringify","clearUser","removeItem","actions","loginUser","commit","logoutUser","getters","getUserInfo"],"sources":["D:/xz-website/src/store/modules/user.js"],"sourcesContent":["// store/user.js (Vuex module)\r\n\r\nexport default {\r\n  namespaced: true,\r\n  state () {\r\n    return {\r\n      userinfo: JSON.parse(localStorage.getItem('userinfo')) || {\r\n        userId: '',\r\n        username: '',\r\n        email: ''\r\n      }\r\n    }\r\n  },\r\n  mutations: {\r\n    setUser (state, user) {\r\n      state.userinfo = user\r\n      // 保存到本地存储\r\n      localStorage.setItem('userinfo', JSON.stringify(user))\r\n    },\r\n    clearUser (state) {\r\n      state.userinfo = { userId: '', username: '', email: '' }\r\n      // 清除本地存储\r\n      localStorage.removeItem('userinfo')\r\n    }\r\n  },\r\n  actions: {\r\n    loginUser ({ commit }, user) {\r\n      commit('setUser', user)\r\n    },\r\n    logoutUser ({ commit }) {\r\n      commit('clearUser')\r\n    }\r\n  },\r\n  getters: {\r\n    getUserInfo (state) {\r\n      return state.userinfo\r\n    }\r\n  }\r\n}\r\n"],"mappings":"AAAA;;AAEA,eAAe;EACbA,UAAU,EAAE,IAAI;EAChBC,KAAKA,CAAA,EAAI;IACP,OAAO;MACLC,QAAQ,EAAEC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAAC,IAAI;QACxDC,MAAM,EAAE,EAAE;QACVC,QAAQ,EAAE,EAAE;QACZC,KAAK,EAAE;MACT;IACF,CAAC;EACH,CAAC;EACDC,SAAS,EAAE;IACTC,OAAOA,CAAEV,KAAK,EAAEW,IAAI,EAAE;MACpBX,KAAK,CAACC,QAAQ,GAAGU,IAAI;MACrB;MACAP,YAAY,CAACQ,OAAO,CAAC,UAAU,EAAEV,IAAI,CAACW,SAAS,CAACF,IAAI,CAAC,CAAC;IACxD,CAAC;IACDG,SAASA,CAAEd,KAAK,EAAE;MAChBA,KAAK,CAACC,QAAQ,GAAG;QAAEK,MAAM,EAAE,EAAE;QAAEC,QAAQ,EAAE,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;MACxD;MACAJ,YAAY,CAACW,UAAU,CAAC,UAAU,CAAC;IACrC;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,SAASA,CAAE;MAAEC;IAAO,CAAC,EAAEP,IAAI,EAAE;MAC3BO,MAAM,CAAC,SAAS,EAAEP,IAAI,CAAC;IACzB,CAAC;IACDQ,UAAUA,CAAE;MAAED;IAAO,CAAC,EAAE;MACtBA,MAAM,CAAC,WAAW,CAAC;IACrB;EACF,CAAC;EACDE,OAAO,EAAE;IACPC,WAAWA,CAAErB,KAAK,EAAE;MAClB,OAAOA,KAAK,CAACC,QAAQ;IACvB;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}